ЁЯЪА Laravel ржорж╛рж▓рзНржЯрж┐-рж░рзЛрж▓ ржЕржерзЗржирзНржЯрж┐ржХрзЗрж╢ржи рж╕рзЗржЯржЖржк (рж╕ржорзНржкрзВрж░рзНржг ржЧрж╛ржЗржб)

ржПржЗ ржЧрж╛ржЗржбржЯрж┐ ржПржХржЯрж┐ ржирждрзБржи Laravel 12 ржкрзНрж░ржЬрзЗржХрзНржЯ рждрзИрж░рж┐ ржерзЗржХрзЗ рж╢рзБрж░рзБ ржХрж░рзЗ, ржЕрзНржпрж╛ржбржорж┐ржи (Admin) ржПржмржВ ржнрзЗржирзНржбрж░ (Vendor) ржПрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб рждрзИрж░рж┐ ржкрж░рзНржпржирзНржд ржкрзНрж░рждрж┐ржЯрж┐ ржЫрзЛржЯ ржзрж╛ржк ржирж┐ржпрж╝рзЗ ржЖрж▓рзЛржЪржирж╛ ржХрж░ржмрзЗред

ржзрж╛ржк рзз: ржкрзНрж░ржЬрзЗржХрзНржЯ ржЗржирж┐рж╢рж┐ржпрж╝рж╛рж▓рж╛ржЗржЬрзЗрж╢ржи ржУ ржЕржерзЗржирзНржЯрж┐ржХрзЗрж╢ржи рж╕рзЗржЯржЖржк (Project Setup)

рзз.рзз. Laravel ржкрзНрж░ржЬрзЗржХрзНржЯ рждрзИрж░рж┐

ржкрзНрж░ржержорзЗ рждрзЛржорж╛рж░ ржЯрж╛рж░рзНржорж┐ржирж╛рж▓/ржХржорж╛ржирзНржб ржкрзНрж░ржорзНржкржЯ-ржП ржирж┐ржЪрзЗрж░ ржХржорж╛ржирзНржбржЯрж┐ ржЪрж╛рж▓рж┐ржпрж╝рзЗ ржПржХржЯрж┐ ржирждрзБржи Laravel ржкрзНрж░ржЬрзЗржХрзНржЯ рждрзИрж░рж┐ ржХрж░рзЛ:

composer create-project laravel/laravel auth-one
cd auth-one


рзз.рзи. Laravel Breeze ржЗржирж╕рзНржЯрж▓

Laravel Breeze рж╣рж▓рзЛ ржжрзНрж░рзБржд ржЕржерзЗржирзНржЯрж┐ржХрзЗрж╢ржи рж╕рзНржХрзНрж░рж╛ржлрзЛрж▓рзНржбрж┐ржВ (Login, Registration ржЗрждрзНржпрж╛ржжрж┐) рждрзИрж░рж┐рж░ ржЬржирзНржп рж╕ржмржЪрзЗржпрж╝рзЗ рж╕рж╣ржЬ ржЙржкрж╛ржпрж╝ред

composer require laravel/breeze --dev
php artisan breeze:install


ржирзЛржЯ: ржЗржирж╕рзНржЯрж▓рзЗрж╢ржирзЗрж░ рж╕ржоржпрж╝ рждрзЛржорж╛ржХрзЗ Frontend Stack (ржпрзЗржоржи: Blade, React, Vue) ржПржмржВ Test Framework (ржпрзЗржоржи: Pest) ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рждрзЗ ржмрж▓ржмрзЗред рждрзБржорж┐ ржПржЦрж╛ржирзЗ Blade ржПржмржВ Pest ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рждрзЗ ржкрж╛рж░рзЛред

рзз.рзй. Frontend ржЕрзНржпрж╛рж╕рзЗржЯ ржЗржирж╕рзНржЯрж▓ ржУ ржмрж┐рж▓рзНржб

Laravel ржПржЦржи Vite ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред Frontend CSS/JS ржлрж╛ржЗрж▓ржЧрзБрж▓рзЛржХрзЗ ржХржорзНржкрж╛ржЗрж▓ ржХрж░рж╛рж░ ржЬржирзНржп Node.js ржирж┐рж░рзНржнрж░рждрж╛ ржЗржирж╕рзНржЯрж▓ ржПржмржВ ржмрж┐рж▓рзНржб ржХрж░рждрзЗ рж╣ржмрзЗред

npm install
npm run dev
# ржЕржержмрж╛, ржлрж╛ржЗржирж╛рж▓ ржмрж┐рж▓рзНржбрзЗрж░ ржЬржирзНржп npm run build


рзз.рзк. ржбрж╛ржЯрж╛ржмрзЗрж╕ рж╕ржВржпрзЛржЧ рж╕рзЗржЯржЖржк

рждрзЛржорж╛рж░ .env ржлрж╛ржЗрж▓рзЗ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗрж░ ржирж╛ржо, ржЗржЙржЬрж╛рж░ржирзЗржо ржУ ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржарж┐ржХ ржХрж░рзЗ ржирж╛ржУред

ржзрж╛ржк рзи: ржбрж╛ржЯрж╛ржмрзЗрж╕ ржЖржкржбрзЗржЯ ржУ рж╕рж┐ржбрж┐ржВ (Roles Preparation)

рзи.рзз. ржЗржЙржЬрж╛рж░ ржоржбрзЗрж▓ ржУ ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи ржЖржкржбрзЗржЯ

ржЗржЙржЬрж╛рж░ржжрзЗрж░ рж░рзЛрж▓ рж╕ржВрж░ржХрзНрж╖ржгрзЗрж░ ржЬржирзНржп ржЖржорж╛ржжрзЗрж░ users ржЯрзЗржмрж┐рж▓рзЗ ржПржХржЯрж┐ role ржХрж▓рж╛ржо ржпрзЛржЧ ржХрж░рждрзЗ рж╣ржмрзЗред

ржпржжрж┐ role ржХрж▓рж╛ржо ржпрзЛржЧ ржХрж░рж╛ ржирж╛ ржерж╛ржХрзЗ, рждржмрзЗ ржПржХржЯрж┐ ржирждрзБржи ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи рждрзИрж░рж┐ ржХрж░рзЛ:

php artisan make:migration add_role_and_status_to_users_table --table=users


database/migrations/*_add_role_and_status_to_users_table.php ржлрж╛ржЗрж▓ржЯрж┐ ржУржкрзЗржи ржХрж░рзЗ up() ржорзЗржержбржЯрж┐ ржЖржкржбрзЗржЯ ржХрж░рзЛ:

// ...
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

Schema::table('users', function (Blueprint $table) {
    // 'role' ржХрж▓рж╛ржо ржпрзЛржЧ ржХрж░рж╛ рж╣рж▓рзЛ, ржбрж┐ржлрж▓рзНржЯ ржнрзНржпрж╛рж▓рзБ 'customer' (ржмрж╛ ржлрж╛ржБржХрж╛)
    $table->string('role')->default('customer')->after('email'); 
    // ржпржжрж┐ status ржжрж░ржХрж╛рж░ рж╣ржпрж╝, рж╕рзЗржЯрж┐ржУ ржпрзЛржЧ ржХрж░рзЛ
    $table->string('status')->default('active')->after('role'); 
});
// ...


рзи.рзи. ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи рж░рж╛ржи ржХрж░рж╛ ржУ рж╕рж┐ржбрж╛рж░ рждрзИрж░рж┐

ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи рж░рж╛ржи ржХрж░рзЗ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ ржирждрзБржи ржХрж▓рж╛ржо рждрзИрж░рж┐ ржХрж░рзЛ:

php artisan migrate


ржЯрзЗрж╕рзНржЯ ржХрж░рж╛рж░ ржЬржирзНржп ржЕрзНржпрж╛ржбржорж┐ржи ржПржмржВ ржнрзЗржирзНржбрж░ ржЗржЙржЬрж╛рж░ рждрзИрж░рж┐ ржХрж░рждрзЗ ржПржХржЯрж┐ Seeder ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржУ ржЖржкржбрзЗржЯ ржХрж░рзЛ:

php artisan make:seeder RoleUserSeeder


database/seeders/RoleUserSeeder.php ржлрж╛ржЗрж▓ржЯрж┐ ржЖржкржбрзЗржЯ ржХрж░рзЛ:
ржПржЦрж╛ржирзЗ рждрзБржорж┐ Test User-ржПрж░ ржмржжрж▓рзЗ Admin ржПржмржВ Vendor ржЗржЙржЬрж╛рж░ рждрзИрж░рж┐ ржХрж░рзЗ ржирж╛ржУред

// database/seeders/RoleUserSeeder.php
// ...
use App\Models\User;
use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\Hash;

class RoleUserSeeder extends Seeder
{
    public function run(): void
    {
        // Admin ржЗржЙржЬрж╛рж░
        User::updateOrCreate(
            ['email' => 'admin@example.com'],
            [
                'name' => 'Admin User',
                'password' => Hash::make('password'), // ржПржХржЯрж┐ рж╕рж╛ржзрж╛рж░ржг ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рж▓рзЛ
                'role' => 'admin',
                'status' => 'active',
            ]
        );

        // Vendor ржЗржЙржЬрж╛рж░
        User::updateOrCreate(
            ['email' => 'vendor@example.com'],
            [
                'name' => 'Vendor User',
                'password' => Hash::make('password'), 
                'role' => 'vendor',
                'status' => 'active',
            ]
        );
        
        // Customer ржЗржЙржЬрж╛рж░
        User::updateOrCreate(
            ['email' => 'customer@example.com'],
            [
                'name' => 'Customer User',
                'password' => Hash::make('password'), 
                'role' => 'customer',
                'status' => 'active',
            ]
        );
    }
}


рж╕рж┐ржбрж╛рж░ рж░рж╛ржи ржХрж░рзЛ:

php artisan db:seed --class=RoleUserSeeder


(ржпржжрж┐ рждрзБржорж┐ db:seed ржЪрж╛рж▓рж╛ржирзЛрж░ рж╕ржоржпрж╝ Duplicate entry Error ржкрж╛ржУ, рждржмрзЗ рж╣ржпрж╝ ржбрж╛ржЯрж╛ржмрзЗрж╕ ржлрзНрж▓рж╛рж╢ ржХрж░рзЗ ржЖржмрж╛рж░ ржорж╛ржЗржЧрзНрж░рзЗржЯ ржУ рж╕рж┐ржб ржХрж░рзЛ, ржЕржержмрж╛ User::updateOrCreate ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЛ, ржпрзЗржоржиржЯрж┐ ржЙржкрж░рзЗ ржжрзЗржЦрж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗред)

ржзрж╛ржк рзй: ржорж┐ржбрж▓ржУржпрж╝рзНржпрж╛рж░ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯрзЗрж╢ржи (The Gatekeeper)

рзй.рзз. RoleMiddleware рждрзИрж░рж┐

ржПржЗ ржорж┐ржбрж▓ржУржпрж╝рзНржпрж╛рж░ржЯрж┐ ржЪрзЗржХ ржХрж░ржмрзЗ ржпрзЗ ржЗржЙржЬрж╛рж░рзЗрж░ рж░рж╛ржЙржЯ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рж╛рж░ ржЕржирзБржорждрж┐ ржЖржЫрзЗ ржХрж┐ржирж╛ред

php artisan make:middleware RoleMiddleware


app/Http/Middleware/RoleMiddleware.php ржлрж╛ржЗрж▓ржЯрж┐ ржЖржкржбрзЗржЯ ржХрж░рзЛ:

// app/Http/Middleware/RoleMiddleware.php
<?php

namespace App\Http\Middleware;

use Closure;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;
use Symfony\Component\HttpFoundation\Response;

class RoleMiddleware
{
    /**
     * рж░рж╛ржЙржЯрзЗ ржЪрж╛ржУржпрж╝рж╛ рж░рзЛрж▓рзЗрж░ рж╕рж╛ржерзЗ ржЗржЙржЬрж╛рж░рзЗрж░ рж░рзЛрж▓ ржорж┐рж▓ржЫрзЗ ржХрж┐ржирж╛ рждрж╛ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рзЗред
     * * @param string $role рж░рж╛ржЙржЯрзЗ ржбрж┐ржлрж╛ржЗржи ржХрж░рж╛ рж░рзЛрж▓ (ржпрзЗржоржи: 'admin', 'vendor')
     */
    public function handle(Request $request, Closure $next, string $role): Response
    {
        // рзз. ржпржжрж┐ ржЗржЙржЬрж╛рж░ рж▓ржЧржЗржи ржХрж░рж╛ ржирж╛ ржерж╛ржХрзЗ
        if (!Auth::check()) {
            return redirect('/login');
        }

        $user = Auth::user();
        
        // рзи. ржпржжрж┐ рж▓ржЧржЗржи ржХрж░рж╛ ржЗржЙржЬрж╛рж░рзЗрж░ рж░рзЛрж▓, рж░рж╛ржЙржЯрзЗ ржЪрж╛ржУржпрж╝рж╛ рж░рзЛрж▓рзЗрж░ рж╕рж╛ржерзЗ ржирж╛ ржорзЗрж▓рзЗ
        if ($user->role !== $role) {
            // рждрзБржорж┐ ржЪрж╛ржЗрж▓рзЗ ржПржЦрж╛ржирзЗ ржПржХржЯрж┐ 403 Forbidden ржкрзЗржЬ ржжрзЗржЦрж╛рждрзЗ ржкрж╛рж░рзЛ 
            // ржЕржержмрж╛ рждрж╛ржХрзЗ рждрж╛рж░ ржирж┐ржЬрж╕рзНржм ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржбрзЗ рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржХрж░рждрзЗ ржкрж╛рж░рзЛред
            return redirect('/dashboard')->with('error', 'ржЖржкржирж╛рж░ ржПржЗ ржкрзЗржЬржЯрж┐ ржжрзЗржЦрж╛рж░ ржЕржирзБржорждрж┐ ржирзЗржЗред'); 
        }

        // рзй. рж░рзЛрж▓ ржорж┐рж▓рзЗ ржЧрзЗрж▓рзЗ, рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржкрж╛рж╕ ржХрж░рзЗ ржжрж╛ржУ
        return $next($request);
    }
}


рзй.рзи. ржорж┐ржбрж▓ржУржпрж╝рзНржпрж╛рж░ Alias рж░рзЗржЬрж┐рж╕рзНржЯрж╛рж░

Laravel-ржХрзЗ ржмрзЛржЭрж╛рждрзЗ рж╣ржмрзЗ ржпрзЗ рж░рж╛ржЙржЯрзЗ ржпржЦржи ржЖржорж░рж╛ role:admin ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржЫрж┐, рждржЦржи ржЖрж╕рж▓рзЗ ржХрзЛржи ржХрзНрж▓рж╛рж╕ржХрзЗ ржХрж▓ ржХрж░рждрзЗ рж╣ржмрзЗред

bootstrap/app.php ржлрж╛ржЗрж▓ржЯрж┐ ржУржкрзЗржи ржХрж░рзЗ withMiddleware ржлрж╛ржВрж╢ржирзЗрж░ ржоржзрзНржпрзЗ alias ржмрзНрж▓ржХ ржпрзЛржЧ ржХрж░рзЛ:

// bootstrap/app.php
// ...
    ->withMiddleware(function (Middleware $middleware): void {
        // тЬЕ ржПржЗржЦрж╛ржирзЗ рждрзЛржорж╛рж░ RoleMiddleware ржЯрж┐ Alias рж╣рж┐рж╕рзЗржмрзЗ рж░рзЗржЬрж┐рж╕рзНржЯрж╛рж░ ржХрж░рж╛ рж╣рж▓рзЛ
        $middleware->alias([
            'role' => \App\Http\Middleware\RoleMiddleware::class, // 'role' Alias ржЯрж┐ ржПржЦржи Routes ржП ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржмрзЗ
        ]);
        
        // ... ржЕржирзНржпрж╛ржирзНржп middleware 
    })
// ...


ржзрж╛ржк рзк: ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░ рждрзИрж░рж┐ ржУ рж▓ржЬрж┐ржХ (The Brains)

ржЖржорж░рж╛ рждрж┐ржиржЯрж┐ ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░ рждрзИрж░рж┐ ржХрж░ржм: Admin, Vendor-ржПрж░ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб ржПржмржВ рж▓ржЧржЗржи-ржПрж░ ржкрж░рзЗ рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржХрж░рж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░ред

рзк.рзз. ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░ рждрзИрж░рж┐

Admin ржПржмржВ Vendor-ржПрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░ рждрзИрж░рж┐ ржХрж░рзЛ (Laravel ржирж┐ржЬрзЗржЗ ржлрзЛрж▓рзНржбрж╛рж░ рждрзИрж░рж┐ ржХрж░рзЗ ржирзЗржмрзЗ)ред

php artisan make:controller Admin/AdminDashboardController
php artisan make:controller Vendor/VendorDashboardController
php artisan make:controller RoleRedirectController


рзк.рзи. ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░ ржХрзЛржб ржЖржкржбрзЗржЯ

app/Http/Controllers/Admin/AdminDashboardController.php:

<?php
namespace App\Http\Controllers\Admin; // тЬЕ рж╕ржарж┐ржХ Namespace

use App\Http\Controllers\Controller;
use Illuminate\Http\Request;

class AdminDashboardController extends Controller
{
    public function index()
    {
        // Admin-ржПрж░ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб view рж▓рзЛржб ржХрж░рж╛ рж╣рж▓рзЛ
        return view('admin.dashboard'); 
    }
}


app/Http/Controllers/Vendor/VendorDashboardController.php:

<?php
namespace App\Http\Controllers\Vendor; // тЬЕ рж╕ржарж┐ржХ Namespace

use App\Http\Controllers\Controller;
use Illuminate\Http\Request;

class VendorDashboardController extends Controller
{
    public function index()
    {
        // Vendor-ржПрж░ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб view рж▓рзЛржб ржХрж░рж╛ рж╣рж▓рзЛ
        return view('vendor.dashboard'); 
    }
}


рзк.рзй. RoleRedirectController ржХрзЛржб ржЖржкржбрзЗржЯ

app/Http/Controllers/RoleRedirectController.php:

<?php
namespace App\Http\Controllers;

use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;

class RoleRedirectController extends Controller
{
    public function index()
    {
        $role = Auth::user()->role;

        switch ($role) {
            case 'admin':
                return redirect()->route('admin.dashboard'); // Admin ржПрж░ рж░рзБржЯ
            case 'vendor':
                return redirect()->route('vendor.dashboard'); // Vendor ржПрж░ рж░рзБржЯ
            case 'customer':
            case 'rider':
            default:
                // Customer/Rider ржмрж╛ ржЕржирзНржп рж░рзЛрж▓рзЗрж░ ржЬржирзНржп ржбрж┐ржлрж▓рзНржЯ рж░рзБржЯ
                return redirect()->route('user.dashboard'); 
        }
    }
}


ржзрж╛ржк рзл: рж░рж╛ржЙржЯрж┐ржВ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи (The Paths)

рзл.рзз. рж░рзЛрж▓рзЗрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ рж░рж╛ржЙржЯ ржлрж╛ржЗрж▓ рждрзИрж░рж┐

рждрзЛржорж╛рж░ routes ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржжрзБржЯрж┐ ржирждрзБржи ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзЛ:

routes/admin.php

routes/vendor.php

routes/admin.php:

<?php

use Illuminate\Support\Facades\Route;
use App\Http\Controllers\Admin\AdminDashboardController; // тЬЕ рж╕ржарж┐ржХ Controller Import

Route::middleware(['auth', 'role:admin'])->prefix('admin')->group(function () {
    // Admin ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржбрзЗрж░ ржорзВрж▓ рж░рзБржЯ
    Route::get('/dashboard', [AdminDashboardController::class, 'index'])->name('admin.dashboard');
    // ... Admin-ржПрж░ ржЕржирзНржпрж╛ржирзНржп рж░рзБржЯ
});


routes/vendor.php:

<?php

use Illuminate\Support\Facades\Route;
use App\Http\Controllers\Vendor\VendorDashboardController; // тЬЕ рж╕ржарж┐ржХ Controller Import

Route::middleware(['auth', 'role:vendor'])->prefix('vendor')->group(function () {
    // Vendor ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржбрзЗрж░ ржорзВрж▓ рж░рзБржЯ
    Route::get('/dashboard', [VendorDashboardController::class, 'index'])->name('vendor.dashboard');
    // ... Vendor-ржПрж░ ржЕржирзНржпрж╛ржирзНржп рж░рзБржЯ
});


рзл.рзи. routes/web.php ржЖржкржбрзЗржЯ

ржПржЗ ржлрж╛ржЗрж▓рзЗ ржирждрзБржи ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░ ржПржмржВ рж░рзЛрж▓рзЗрж░ рж░рж╛ржЙржЯ ржлрж╛ржЗрж▓ржЧрзБрж▓рзЛржХрзЗ рж▓рзЛржб ржХрж░рждрзЗ рж╣ржмрзЗред

routes/web.php ржлрж╛ржЗрж▓ржЯрж┐ рж╕ржорзНржкрзВрж░рзНржг ржХрзЛржб ржжрж┐ржпрж╝рзЗ ржЖржкржбрзЗржЯ ржХрж░рзЛ:

// routes/web.php
<?php

use App\Http\Controllers\ProfileController;
use App\Http\Controllers\RoleRedirectController; // тЬЕ ржПржЯрж┐ ржпрзЛржЧ ржХрж░рждрзЗ рж╣ржмрзЗ
use Illuminate\Support\Facades\Route;

/*
|--------------------------------------------------------------------------
| Public Routes
|--------------------------------------------------------------------------
*/

Route::get('/', function () {
    return view('welcome');
});

/*
|--------------------------------------------------------------------------
| Multi-Role Redirect
|--------------------------------------------------------------------------
| ржПржЗ рж░рзБржЯржЯрж┐ рж▓ржЧржЗржи ржХрж░рж╛рж░ ржкрж░ ржЗржЙржЬрж╛рж░ржХрзЗ рждрж╛рж░ role ржЕржирзБржпрж╛ржпрж╝рзА рж╕ржарж┐ржХ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржбрзЗ рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржХрж░ржмрзЗред
*/
// (рзз) /dashboard route ржЯрж┐ ржПржЦржи RoleRedirectController ржХрзЗ ржХрж▓ ржХрж░ржмрзЗред
Route::get('/dashboard', [RoleRedirectController::class, 'index'])
    ->middleware(['auth', 'verified'])
    ->name('dashboard'); // тЬЕ ржПржЗ name ржЯрж┐ login ржПрж░ ржкрж░ ржбрж┐ржлрж▓рзНржЯ redirect рж╣рж┐рж╕рзЗржмрзЗ ржмрзНржпржмрж╣рзГржд рж╣ржмрзЗ

/*
|--------------------------------------------------------------------------
| General User Dashboard (Customer/Rider/Default)
|--------------------------------------------------------------------------
| RoleRedirectController ржерзЗржХрзЗ ржПржЗ рж░рзБржЯрзЗ redirect рж╣ржмрзЗ ржпржЦржи role 'admin' ржмрж╛ 'vendor' ржирж╛ рж╣ржмрзЗред
*/
// (рзи) ржбрж┐ржлрж▓рзНржЯ ржЗржЙржЬрж╛рж░ржжрзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржирждрзБржи route, ржпрж╛ ржЕрж░рж┐ржЬрж┐ржирж╛рж▓ dashboard view ржжрзЗржЦрж╛ржмрзЗред
Route::get('/general/dashboard', function () {
    return view('dashboard'); // resources/views/dashboard.blade.php ржлрж╛ржЗрж▓ржЯрж┐ рж▓рзЛржб рж╣ржмрзЗ
})->middleware(['auth', 'verified'])->name('user.dashboard');

/*
|--------------------------------------------------------------------------
| Authenticated User Routes (Profile)
|--------------------------------------------------------------------------
*/
Route::middleware('auth')->group(function () {
    Route::get('/profile', [ProfileController::class, 'edit'])->name('profile.edit');
    Route::patch('/profile', [ProfileController::class, 'update'])->name('profile.update');
    Route::delete('/profile', [ProfileController::class, 'destroy'])->name('profile.destroy');
});

/*
|--------------------------------------------------------------------------
| Role Specific Routes Require
|--------------------------------------------------------------------------
*/
require __DIR__ . '/auth.php';
require __DIR__ . '/admin.php'; // тЬЕ Admin routes рж▓рзЛржб ржХрж░рж╛ рж╣рж▓рзЛ
require __DIR__ . '/vendor.php'; // тЬЕ Vendor routes рж▓рзЛржб ржХрж░рж╛ рж╣рж▓рзЛ



ржзрж╛ржк рзм: ржнрж┐ржЙ ржлрж╛ржЗрж▓ рждрзИрж░рж┐ (The Views)

Laravel-ржХрзЗ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб ржжрзЗржЦрж╛рждрзЗ рж╣рж▓рзЗ ржнрж┐ржЙ ржлрж╛ржЗрж▓ржЧрзБрж▓рзЛ рждрзИрж░рж┐ ржерж╛ржХрждрзЗ рж╣ржмрзЗред

resources/views/ ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ ржнрзЗрждрж░рзЗ ржлрзЛрж▓рзНржбрж╛рж░ ржУ ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзЛ:

resources/views/admin/dashboard.blade.php (ржирждрзБржи ржлрзЛрж▓рзНржбрж╛рж░ ржУ ржлрж╛ржЗрж▓)

resources/views/vendor/dashboard.blade.php (ржирждрзБржи ржлрзЛрж▓рзНржбрж╛рж░ ржУ ржлрж╛ржЗрж▓)

resources/views/dashboard.blade.php (ржПржЯрж┐ Customer/Rider ржПрж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд рж╣ржмрзЗ, Breeze ржПржЯрж┐ рждрзИрж░рж┐ ржХрж░рзЗ ржжрзЗржпрж╝)

admin/dashboard.blade.php:

<x-app-layout>
    <x-slot name="header">
        <h2 class="font-semibold text-xl text-gray-800 leading-tight">
            {{ __('Admin Dashboard') }}
        </h2>
    </x-slot>

    <div class="py-12">
        <div class="max-w-7xl mx-auto sm:px-6 lg:px-8">
            <div class="bg-white overflow-hidden shadow-sm sm:rounded-lg">
                <div class="p-6 text-gray-900">
                    {{ __("ржЖржкржирж┐ ржПржХржЬржи ржЕрзНржпрж╛ржбржорж┐ржи рж╣рж┐рж╕рзЗржмрзЗ рж▓ржЧржЗржи ржХрж░рзЗржЫрзЗржи!") }}
                </div>
            </div>
        </div>
    </div>
</x-app-layout>


vendor/dashboard.blade.php:

<x-app-layout>
    <x-slot name="header">
        <h2 class="font-semibold text-xl text-gray-800 leading-tight">
            {{ __('Vendor Dashboard') }}
        </h2>
    </x-slot>

    <div class="py-12">
        <div class="max-w-7xl mx-auto sm:px-6 lg:px-8">
            <div class="bg-white overflow-hidden shadow-sm sm:rounded-lg">
                <div class="p-6 text-gray-900">
                    {{ __("ржЖржкржирж┐ ржПржХржЬржи ржнрзЗржирзНржбрж░ рж╣рж┐рж╕рзЗржмрзЗ рж▓ржЧржЗржи ржХрж░рзЗржЫрзЗржи!") }}
                </div>
            </div>
        </div>
    </div>
</x-app-layout>


ржзрж╛ржк рзн: ржлрж╛ржЗржирж╛рж▓ рж░рж╛ржи

рж╕ржм ржлрж╛ржЗрж▓ ржарж┐ржХржарж╛ржХ ржЖржкржбрзЗржЯ ржХрж░рж╛рж░ ржкрж░, рж╕рж╛рж░рзНржнрж╛рж░ржЯрж┐ ржЪрж╛рж▓рзБ ржХрж░рзЛ:

php artisan serve


ржПржЦржи рждрзБржорж┐ ржПржЗ ржЗржЙржЬрж╛рж░ ржбрж┐ржЯрзЗржЗрж▓рж╕ ржжрж┐ржпрж╝рзЗ рж▓ржЧржЗржи ржХрж░рзЗ ржжрзЗржЦрждрзЗ ржкрж╛рж░рзЛ ржпрзЗ рж░рзЛрж▓ ржЕржирзБржпрж╛ржпрж╝рзА ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб ржкрж░рж┐ржмрж░рзНрждржи рж╣ржЪрзНржЫрзЗ ржХрж┐ржирж╛:

ржЗржЙржЬрж╛рж░

ржЗржорзЗржЗрж▓

ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб

ржкрзНрж░рждрзНржпрж╛рж╢рж┐ржд ржлрж▓рж╛ржлрж▓

Admin

admin@example.com

password

Admin Dashboard ржжрзЗржЦрж╛ржмрзЗ

Vendor

vendor@example.com

password

Vendor Dashboard ржжрзЗржЦрж╛ржмрзЗ

Customer

customer@example.com

password

Default Dashboard ржжрзЗржЦрж╛ржмрзЗ

ржПржЗ ржЧрж╛ржЗржбржЯрж┐ ржЕржирзБрж╕рж░ржг ржХрж░рж▓рзЗ рждрзБржорж┐ ржПржХржжржо рж╢рзБрж░рзБ ржерзЗржХрзЗ рждрзЛржорж╛рж░ ржорж╛рж▓рзНржЯрж┐-рж░рзЛрж▓ рж╕рж┐рж╕рзНржЯрзЗржо рждрзИрж░рж┐ ржХрж░рзЗ ржлрзЗрж▓рждрзЗ ржкрж╛рж░ржмрзЗ!